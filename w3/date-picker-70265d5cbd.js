function getPPickerMinDate(){return moment().toDate()}function getRPickerMinDate(){return moment().add(minimumDays,"days").toDate()}function getRPickerUpdatedMinDate(e,t){return moment(e.select).add(minimumDays,"days")}"undefined"==typeof minimumDays&&(minimumDays=1),$(document).ready(function(e){function t(){e(document).trigger("searchDatesChanged",[a,n])}debouncedSearchDatesChanged=_.debounce(t,300),pPicker=e(".datepicker-p").pickadate({min:getPPickerMinDate(),format:"dd mmmm yyyy",formatSubmit:"yyyy-mm-dd"}),rPicker=e(".datepicker-r").pickadate({min:getRPickerMinDate(),format:"dd mmmm yyyy",formatSubmit:"yyyy-mm-dd"});var a=pPicker.pickadate("picker"),n=rPicker.pickadate("picker");"undefined"!=typeof bookedRanges&&bookedRanges.length>0&&(a.set("disable",bookedRanges),n.set("disable",bookedRanges)),a.on({set:function(e){minimumDate=getRPickerUpdatedMinDate(e,a),n.set({min:minimumDate.toDate()},{muted:!0}),returnDate=moment(n.get("select","yyyy-mm-dd")),(!returnDate.isValid()||returnDate.isSame(minimumDate))&&(n.clear(),n.set({select:minimumDate.toDate()},{muted:!0})),debouncedSearchDatesChanged()}}),n.on({set:function(e){debouncedSearchDatesChanged()}}),""!==a.get("select","yyyy-mm-dd")&&(""===n.get("select","yyyy-mm-dd")&&(minimumDate=moment(a.get("select","yyyy-mm-dd")).add(7,"days"),n.set({min:minimumDate.toDate()},{muted:!0})),debouncedSearchDatesChanged()),e(".datepicker-p ~ span.input-group-addon").click(function(e){e.stopPropagation(),e.preventDefault(),a.open()}),e(".datepicker-r ~ span.input-group-addon").click(function(e){e.stopPropagation(),e.preventDefault(),n.open()})});